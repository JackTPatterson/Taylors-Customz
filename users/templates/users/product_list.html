{% extends 'users/base.html' %}


{% block styles %}
<script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js'></script>
<link rel='stylesheet' href='../../static/users/assets/css/list.css'>
<link rel='stylesheet' href='../../static/users/assets/css/tailwind.css'>

{% endblock styles %}

{% block content %}
  <center>
  <div class="p-4 w-11/12">
    <div class="grid grid-cols-12 gap-4">
      <div class="col-span-12 sm:col-span-6 md:col-span-3">
        <div class="flex flex-row bg-white shadow-sm rounded-xl p-4">
          <div class="flex items-center justify-center flex-shrink-0 h-12 w-12 rounded-xl bg-yellow-100 text-blue-500">

<svg class='stroke-current text-yellow-400' xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" class="feather feather-help-circle"><circle cx="12" cy="12" r="10"></circle><path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"></path><line x1="12" y1="17" x2="12.01" y2="17"></line></svg>          </div>
          <div class="flex flex-col flex-grow ml-4">
            <div class="text-sm text-gray-500">Requested</div>
            <div class="font-bold text-lg">
              {{requested}}
             </div>
          </div>
        </div>
      </div>
      <div class="col-span-12 sm:col-span-6 md:col-span-3">
        <div class="flex flex-row bg-white shadow-sm rounded-xl p-4">
          <div class="flex items-center justify-center flex-shrink-0 h-12 w-12 rounded-xl bg-blue-100 text-green-500">

<svg class='stroke-current text-blue-500' xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" class="feather feather-plus-circle"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="16"></line><line x1="8" y1="12" x2="16" y2="12"></line></svg>     </div>
          <div class="flex flex-col flex-grow ml-4">
            <div class="text-sm text-gray-500">Accepted</div>
            <div class="font-bold text-lg">{{accepted}}</div>
          </div>
        </div>
      </div>
      <div class="col-span-12 sm:col-span-6 md:col-span-3">
        <div class="flex flex-row bg-white shadow-sm rounded-xl p-4">
          <div class="flex items-center justify-center flex-shrink-0 h-12 w-12 rounded-xl bg-red-100 text-red-500">

<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="#ff4242" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" class="feather feather-x-circle"><circle cx="12" cy="12" r="10"></circle><line x1="15" y1="9" x2="9" y2="15"></line><line x1="9" y1="9" x2="15" y2="15"></line></svg>          </div>
          <div class="flex flex-col flex-grow ml-4">
            <div class="text-sm text-gray-500">Denied</div>
            <div class="font-bold text-lg">{{denied}}</div>
          </div>
        </div>
      </div>
      <div class="col-span-12 sm:col-span-6 md:col-span-3">
        <div class="flex flex-row bg-white shadow-sm rounded-xl p-4">
          <div class="flex items-center justify-center flex-shrink-0 h-12 w-12 rounded-xl bg-green-100 text-green-500">

<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="#00d13b" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" class="feather feather-check-circle"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path><polyline points="22 4 12 14.01 9 11.01"></polyline></svg>          </div>
          <div class="flex flex-col flex-grow ml-4">
            <div class="text-sm text-gray-500">Completed</div>
            <div class="font-bold text-lg">{{completed}}</div>
          </div>
        </div>
      </div>
    </div>
  </div>
  </center>
<center>
<div class="flex flex-col w-11/12">
  <div class="-my-2 sm:-mx-6 lg:-mx-8  rounded-lg">
    <div class="py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8">
      <div class="shadow overflow-hidden border-b border-gray-200 sm:rounded-lg">
        <table class="min-w-full divide-y divide-gray-200">
          <thead class="bg-gray-50">
            <tr>
              <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                Name â€¢ Email 
              </th>
              <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                Shoe
              </th>
              <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                Status
              </th>
              <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                Order Number
              </th>
              <th scope="col" class="relative px-6 py-3">
                <span class="sr-only"></span>
              </th>
            </tr>
          </thead>
          <tbody class="bg-white divide-y divide-gray-200">
            {% for product in product %}
            <tr>
              <td class="py-4 whitespace-nowrap">
                <div class="flex items-center">
                  
                  <div class="ml-4">
                    <div class="text-sm font-medium text-gray-900">
                      {{product.first_name.capitalize}} {{product.last_name.capitalize}}
                    </div>
                    <div class="text-sm text-gray-500">
                      {{product.email}}
                    </div>
                  </div>
                </div>
              </td>
              <td class="px-6 py-4 whitespace-nowrap">
                <div class="text-sm text-gray-900">
                 
                  {{product.shoe_name}}
                  
                </div>
                
              </td>
              <td class="px-6 py-4 whitespace-nowrap">
                {% if not product.denied and not product.accepted and not product.completed %}
                <span class="px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full bg-yellow-100 text-black">
                  Requested
                </span>
                {% endif %}
                {% if product.accepted %}
                <span class="px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-black">
                  Accepted
                </span>
                {% endif %}
                {% if product.denied %}
                <span class="px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-black">
                  Denied
                </span>
                {% endif %}
                {% if product.completed %}
                <span class="px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-black">
                  Completed
                </span>
                {% endif %}
                
              </td>
              <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
                {{product.orderNumber}}
              </td>
              <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
                <a href="{% url 'order-detail' product.orderNumber %}" class="text-indigo-600 hover:text-indigo-900">View Order</a>
              </td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>
</center>

<br>
<style>
  label {
    margin-top: 6px !important;
    margin-bottom: 0 !important;
  }

  @media (max-width: 840px) {

    #req-title {
      text-align: center;
      margin-left: 0;
    }

    .requested-blk {
      margin-top: 170px;
    }

    .cbx-blk {
      top: 200px;
      left: 50%;
      transform: translate(-50%, -50%);
      width: fit-content;
      margin-bottom: 5px !important;

    }

    .inner-blk {
      display: inline-block;
    }

  }
</style>
<script>
  $('document').ready(function () {
    $('#morning').prop("checked", true)
    $('.requested-blk').show()
    $('.accepted-blk').hide()
    $('.denied-blk').hide()
    $('.completed-blk').hide()


  })

  $(document).on("click", $('#morning'), function () {

    if ($('#morning').prop("checked") == true) {
      $('.requested-blk').show()
    } else {
      $('.requested-blk').hide()
    }

  });

  $(document).on("click", $('#noon'), function () {

    if ($('#noon').prop("checked") == true) {
      $('.accepted-blk').show()
    } else {
      $('.accepted-blk').hide()
    }

  });

  $(document).on("click", $('#afternoon'), function () {


    if ($('#afternoon').prop("checked") == true) {
      $('.denied-blk').show()
    } else {
      $('.denied-blk').hide()
    }

  });

  $(document).on("click", $('#checked'), function () {


    if ($('#evening').prop("checked") == true) {
      $('.completed-blk').show()
    } else {
      $('.completed-blk').hide()
    }

  });

  $(document).ready(function(){
       $('#header-text').html("Orders")
   });
</script>
<!-- partial -->
<script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>
<script src='https://cdn.datatables.net/1.10.7/js/jquery.dataTables.min.js'></script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.0/js/materialize.min.js'></script>
{% endblock content %}